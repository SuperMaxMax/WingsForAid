
import numpy as np
import sys
import matplotlib.pyplot as plt
from matplotlib import patheffects

sys.path.append('..')

from parameters import UAV, atmosphere
aircraft = UAV('aircraft')
atm      = atmosphere()

from scissor_plot import run 

def C_m_alpha_calculation(aircraft, x_cg):
    aircraft.C_N_h_alpha = 2 * np.pi * aircraft.A_h/(aircraft.A_h + 2)

    aircraft.C_m_alpha = aircraft.AE_cl_alpha * (x_cg - aircraft.CS_x_ac_w) - aircraft.C_N_h_alpha * (1 - aircraft.dEpsilondA) * (aircraft.Vh_V)**2 * aircraft.Sh_S * aircraft.CS_l_h/aircraft.MAC_length


run(aircraft)
C_m_alpha_calculation(aircraft, 0.45)

print("\n----------------Summary----------------\n")
print(f"Sh_S: {aircraft.Sh_S}")
print(f"C_m_alpha: {aircraft.C_m_alpha}\n")



